<h1 id="阅读">阅读</h1>
<h2 id="Koajs开发最佳实践"><a href="http://www.html-js.com/article/Koa-small-classroom-Koajs-development-best-practices">Koajs开发最佳实践</a></h2>
<p>简单中间件编写模式：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span>* <span class="title">myMiddleWare</span><span class="params">(next)</span> {</span>
    <span class="comment">//...before</span>
    <span class="keyword">yield</span> next;
    <span class="comment">//...after</span>
}

app.use(myMiddleWare);
</code></pre>
<p>带配置的中间件：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">myMiddleWare</span><span class="params">(config)</span> {</span>
    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>*<span class="params">(next)</span> {</span>
        <span class="comment">//...use config</span>
        <span class="comment">//..before</span>
        <span class="keyword">yield</span> next;
        <span class="comment">//..after</span>
    }
}

app.use(myMiddleWare({
    <span class="comment">//...config</span>
}));
</code></pre>
<p>合并中间件：</p>
<pre><code class="javascript"><span class="function"><span class="keyword">function</span>* <span class="title">middleWare1</span><span class="params">(next)</span> {</span>
    <span class="keyword">yield</span> next;
}

<span class="function"><span class="keyword">function</span>* <span class="title">middleWare2</span><span class="params">(next)</span> {</span>
    <span class="keyword">yield</span> next;
}

<span class="function"><span class="keyword">function</span>* <span class="title">middleWare3</span><span class="params">(next)</span> {</span>
    <span class="keyword">yield</span> next;
}

<span class="function"><span class="keyword">function</span>* <span class="title">all</span><span class="params">(next)</span> {</span>
    <span class="keyword">yield</span> middleWare1.call(<span class="keyword">this</span>, middleWare2.call(<span class="keyword">this</span>, middleWare3.call(<span class="keyword">this</span>, next)));
}

app.use(all);
</code></pre>
<h1 id="收获">收获</h1>
<p>无</p>
<h1 id="生活">生活</h1>
<p>收拾东西，明天滚蛋…</p>
